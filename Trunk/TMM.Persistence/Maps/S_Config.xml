<?xml version="1.0" encoding="utf-8" ?> 
<!--============================================================================
//	CAUTION: This file is generated by IBatisNetGen.BatisMap.cst at 2010-12-17 15:46:12
//				By xincai.wu
//===========================================================================-->
<sqlMap namespace="S_Config"
	xmlns="http://ibatis.apache.org/mapping" 
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">

	<alias>
		<typeAlias alias="S_Config" type="TMM.Model.S_Config,TMM.Models" />
	</alias>

	<statements>

		<select id="GetCount"  parameterClass="map" resultClass="System.Int32">
			SELECT count(*) FROM [S_Config]
			<dynamic prepend="WHERE">
				<isPropertyAvailable property="WebName" prepend="AND">
					[WebName] = #WebName#
				</isPropertyAvailable>
				<isPropertyAvailable property="Keywords" prepend="AND">
					[Keywords] = #Keywords#
				</isPropertyAvailable>
				<isPropertyAvailable property="Description" prepend="AND">
					[Description] = #Description#
				</isPropertyAvailable>
			</dynamic>
		</select>
		

		<select id="GetList" parameterClass="map" resultClass="S_Config">
			SELECT
			[Id]
			, [WebName]
			, [Keywords]
			, [Description]
			, [CopyRight]
			, [IcpNum]
			FROM
			(SELECT
			<isPropertyAvailable property="Top" prepend="">
				Top (#Top#)
			</isPropertyAvailable>
			<isPropertyAvailable property="OrderBy" prepend="">
				ROW_NUMBER() OVER (order by $OrderBy$) as RowNumber,
			</isPropertyAvailable>
			*
			FROM [S_Config]
			<dynamic prepend="WHERE">
				<isPropertyAvailable property="WebName" prepend="AND">
					[WebName] = #WebName#
				</isPropertyAvailable>
				<isPropertyAvailable property="Keywords" prepend="AND">
					[Keywords] = #Keywords#
				</isPropertyAvailable>
				<isPropertyAvailable property="Description" prepend="AND">
					[Description] = #Description#
				</isPropertyAvailable>
			</dynamic>
			) t
			<dynamic prepend="WHERE">
				<isPropertyAvailable property="StartRecord" prepend="AND">
				RowNumber>#StartRecord#
				</isPropertyAvailable>
			</dynamic>
		</select>
		
		<select id="Get" parameterClass="Int32" resultClass="S_Config">
			SELECT
			[Id]
			, [WebName]
			, [Keywords]
			, [Description]
			, [CopyRight]
			, [IcpNum]
			FROM [S_Config]
			WHERE
			([Id] = #Id#)
		</select>
		
		

		
		<insert id="Insert" parameterClass="S_Config" resultClass="Int32">
			INSERT INTO [S_Config] (
			[Id]
			, [WebName]
			, [Keywords]
			, [Description]
			, [CopyRight]
			, [IcpNum]
			) VALUES (
			#Id#
			, #WebName#
			, #Keywords#
			, #Description#
			, #CopyRight#
			, #IcpNum#
			)

			SELECT @@IDENTITY
		</insert>

		<update id="Update" parameterClass="S_Config" resultClass="Int32">
			UPDATE [S_Config] SET
			[WebName] = #WebName#
			, [Keywords] = #Keywords#
			, [Description] = #Description#
			, [CopyRight] = #CopyRight#
			, [IcpNum] = #IcpNum#
			WHERE
			([Id] = #Id#)

			SELECT @@rowcount
		</update>

		<delete id="Delete" parameterClass="int32" resultClass="Int32">
			DELETE FROM [S_Config]
			WHERE
				([Id] = #Id#)
				
			select @@rowcount
		</delete>
		
	</statements>
</sqlMap>
